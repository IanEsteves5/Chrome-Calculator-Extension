function getParseTreeDiv(b){if(b===null){return"<div class='parseTreeNode'>NULL</div>"}else{result="<div class='parseTreeNode'>";var c=b.val();if(c!==null&&c.constructor===Array){c="["+c.join()+"]"}result+=b.id+(b.id===c?"":" "+c)+"<br />";for(var a=0;a<b.children.length;a++){result+=getParseTreeDiv(b.children[a])}return result+"</div>"}}window.onload=function(){var c="<tr><th>id</th><th>regex</th></tr>";for(var b=0;b<tokenTypes.length;b++){c+="<tr><td>"+tokenTypes[b].id+"</td><td>"+tokenTypes[b].regexStr+"</td></tr>"}document.getElementById("tokenTypes").innerHTML=c;c="<tr><th>id</th><th>pattern</th></tr>";for(var b=0;b<rules.length;b++){c+="<tr><td>"+rules[b].id+"</td><td>";for(var a=0;a<rules[b].patterns.length;a++){c+=rules[b].patterns[a].getPatternString()+"<br />"}c+="</td></tr>"}document.getElementById("rules").innerHTML=c;document.getElementById("inputString").onkeyup=function(){var k=document.getElementById("inputString").value;var j="";var h,g,f,e;errorLog="";memory=[];h=window.performance.now();var l=getTokens(k);g=window.performance.now();var m=getParseTree(l);f=window.performance.now();var n=null;if(m!==null){n=m.val()}e=window.performance.now();j="<tr><th>id</th><th>pos</th><th>content</th></tr>";for(var d=0;d<l.length;d++){j+="<tr><td>"+l[d].id+"</td><td>"+l[d].pos+"</td><td>"+l[d].content+"</td></tr>"}document.getElementById("tokens").innerHTML=j;document.getElementById("result").innerHTML=n===null?"null":n;var j="";for(var d=0;d<memory.length;d++){j+=(d===0?"":"\n")+memory[d].id+" = "+memory[d].val}document.getElementById("memory").textContent=j;document.getElementById("errorLog").textContent=errorLog;j="generating tokens : "+Math.floor((g-h)*1000)/1000+"ms\n";j+="generating parse tree : "+Math.floor((f-g)*1000)/1000+"ms\n";j+="calculating result : "+Math.floor((e-f)*1000)/1000+"ms\n";document.getElementById("timings").textContent=j;document.getElementById("parseTree").innerHTML=getParseTreeDiv(m)}};